<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fayez Store - متجر روبلوكس</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a0a2e 0%, #2d1b4e 50%, #1a0a2e 100%);
            color: #fff;
            min-height: 100vh;
        }

        .header {
            background: rgba(30, 15, 60, 0.8);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            box-shadow: 0 4px 20px rgba(138, 73, 255, 0.3);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px;
        }

        .logo {
            font-size: 2.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #a855f7, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            cursor: pointer;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .btn {
            padding: 12px 28px;
            border-radius: 30px;
            border: none;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #a855f7, #ec4899);
            color: white;
        }

        .btn-secondary {
            background: rgba(168, 85, 247, 0.2);
            color: white;
            border: 2px solid #a855f7;
        }

        .cart-btn {
            position: relative;
            background: rgba(168, 85, 247, 0.3);
            padding: 12px 20px;
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ef4444;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .breadcrumb {
            max-width: 1400px;
            margin: 30px auto;
            padding: 0 30px;
            display: flex;
            gap: 15px;
            align-items: center;
            color: #c4b5fd;
            font-size: 1.1em;
        }

        .breadcrumb span {
            cursor: pointer;
        }

        /* Checkout Page */
        .checkout-container {
            max-width: 900px;
            margin: 40px auto;
            padding: 0 30px;
        }

        .checkout-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .checkout-title {
            font-size: 2.5em;
            background: linear-gradient(135deg, #fff, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .order-summary {
            background: rgba(45, 27, 78, 0.6);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid rgba(168, 85, 247, 0.3);
        }

        .order-summary h3 {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: #a855f7;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid rgba(168, 85, 247, 0.2);
        }

        .order-total {
            display: flex;
            justify-content: space-between;
            padding-top: 20px;
            font-size: 1.8em;
            font-weight: bold;
            color: #a855f7;
        }

        .email-section {
            background: rgba(45, 27, 78, 0.6);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid rgba(168, 85, 247, 0.3);
        }

        .email-section h3 {
            font-size: 1.5em;
            margin-bottom: 15px;
            color: #fff;
        }

        .email-input {
            width: 100%;
            padding: 15px;
            border-radius: 12px;
            border: 2px solid rgba(168, 85, 247, 0.5);
            background: rgba(20, 10, 40, 0.6);
            color: white;
            font-size: 1.1em;
            outline: none;
        }

        .email-input:focus {
            border-color: #a855f7;
        }

        .payment-section {
            background: rgba(45, 27, 78, 0.6);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid rgba(168, 85, 247, 0.3);
        }

        .payment-section h3 {
            font-size: 1.8em;
            margin-bottom: 20px;
            text-align: center;
            color: #fff;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .payment-method {
            background: rgba(20, 10, 40, 0.6);
            border: 3px solid rgba(168, 85, 247, 0.3);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .payment-method:hover {
            border-color: #a855f7;
            transform: translateY(-5px);
        }

        .payment-method.selected {
            border-color: #a855f7;
            background: rgba(168, 85, 247, 0.2);
        }

        .payment-method input[type="radio"] {
            display: none;
        }

        .payment-icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .payment-name {
            font-size: 1.2em;
            font-weight: bold;
        }

        .vodafone-info {
            background: linear-gradient(135deg, rgba(229, 0, 0, 0.2), rgba(229, 0, 0, 0.1));
            border: 2px solid #e50000;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            display: none;
        }

        .vodafone-info.show {
            display: block;
        }

        .vodafone-info h4 {
            font-size: 1.5em;
            margin-bottom: 15px;
            color: #fff;
        }

        .transfer-details {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .transfer-number {
            font-size: 2em;
            font-weight: bold;
            color: #fbbf24;
            margin: 10px 0;
            letter-spacing: 2px;
        }

        .transfer-amount {
            font-size: 1.8em;
            font-weight: bold;
            color: #10b981;
            margin: 10px 0;
        }

        .terms-checkbox {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
            padding: 15px;
            background: rgba(20, 10, 40, 0.4);
            border-radius: 10px;
        }

        .terms-checkbox input {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .confirm-payment-btn {
            width: 100%;
            background: linear-gradient(135deg, #a855f7, #ec4899);
            color: white;
            border: none;
            padding: 20px;
            border-radius: 15px;
            font-size: 1.4em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .confirm-payment-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(168, 85, 247, 0.5);
        }

        .confirm-payment-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Cart Styles */
        .cart-container {
            max-width: 1000px;
            margin: 40px auto;
            padding: 0 30px;
        }

        .cart-title {
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 40px;
            background: linear-gradient(135deg, #fff, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .cart-empty {
            text-align: center;
            padding: 60px 20px;
        }

        .cart-empty-icon {
            font-size: 5em;
            margin-bottom: 20px;
        }

        .cart-items {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .cart-item {
            background: rgba(45, 27, 78, 0.6);
            border-radius: 20px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            border: 2px solid rgba(168, 85, 247, 0.3);
        }

        .cart-item-icon {
            font-size: 3em;
            width: 80px;
            height: 80px;
            background: rgba(20, 10, 40, 0.8);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-name {
            font-size: 1.3em;
            margin-bottom: 5px;
        }

        .cart-item-desc {
            color: #c4b5fd;
            font-size: 0.9em;
        }

        .cart-item-price {
            font-size: 1.5em;
            font-weight: bold;
            color: #a855f7;
            margin-left: 20px;
        }

        .remove-btn {
            background: #ef4444;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
        }

        .cart-summary {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.3), rgba(236, 72, 153, 0.3));
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .checkout-btn {
            width: 100%;
            background: linear-gradient(135deg, #a855f7, #ec4899);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 15px;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
        }

        /* Products Styles */
        .hero {
            text-align: center;
            padding: 60px 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3em;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #fff, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            max-width: 1400px;
            margin: 40px auto;
            padding: 0 30px;
        }

        .category-card {
            background: rgba(45, 27, 78, 0.6);
            border-radius: 25px;
            overflow: hidden;
            border: 2px solid rgba(168, 85, 247, 0.3);
            cursor: pointer;
            transition: all 0.3s;
        }

        .category-card:hover {
            transform: translateY(-10px);
            border-color: #a855f7;
            box-shadow: 0 20px 60px rgba(168, 85, 247, 0.4);
        }

        .category-image {
            padding: 40px;
            display: flex;
            align-items: center;
            gap: 30px;
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(236, 72, 153, 0.2));
        }

        .category-icon {
            width: 100px;
            height: 100px;
            background: rgba(168, 85, 247, 0.3);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            border: 3px solid rgba(168, 85, 247, 0.5);
        }

        .category-content {
            padding: 30px;
        }

        .category-title {
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        .category-subtitle {
            color: #c4b5fd;
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        .category-btn {
            background: linear-gradient(135deg, #a855f7, #ec4899);
            color: white;
            padding: 15px 35px;
            border-radius: 15px;
            border: none;
            font-size: 1.1em;
            cursor: pointer;
            font-weight: bold;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            max-width: 1400px;
            margin: 40px auto;
            padding: 0 30px;
        }

        .product-card {
            background: rgba(45, 27, 78, 0.6);
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid rgba(168, 85, 247, 0.3);
            transition: all 0.3s;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 60px rgba(168, 85, 247, 0.5);
        }

        .product-icon {
            background: rgba(20, 10, 40, 0.8);
            padding: 40px;
            text-align: center;
            font-size: 4em;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .product-info {
            padding: 20px;
            text-align: center;
        }

        .product-name {
            font-size: 1.1em;
            margin-bottom: 10px;
            color: #c4b5fd;
        }

        .product-price {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .add-btn {
            width: 100%;
            background: linear-gradient(135deg, #a855f7, #ec4899);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 12px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .add-btn:hover {
            transform: scale(1.05);
        }

        @media (max-width: 768px) {
            .categories-grid, .products-grid {
                grid-template-columns: 1fr;
            }
            .cart-item {
                flex-direction: column;
            }
            .payment-methods {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="nav-container">
            <div class="logo" onclick="showPage('home')">FAYEZ STORE</div>
            <div class="nav-buttons">
                <button class="btn btn-secondary" onclick="showPage('home')">🏠 الرئيسية</button>
                <button class="btn cart-btn" onclick="showPage('cart')">
                    🛒 السلة
                    <span class="cart-count" id="cartCount">0</span>
                </button>
                <button class="btn btn-primary">👤 تسجيل الدخول</button>
            </div>
        </div>
    </header>

    <!-- Home Page -->
    <div id="home" class="page active">
        <div class="breadcrumb"><span>الرئيسية</span></div>
        <section class="hero">
            <h1>أفضل متجر لشراء محتوى روبلوكس</h1>
            <p style="font-size: 1.3em; color: #c4b5fd; margin-top: 15px;">احصل على حساباتك وروبوكس المفضلة بأفضل الأسعار</p>
        </section>
        <div style="text-align: center; font-size: 2.5em; margin: 40px 0; background: linear-gradient(135deg, #fff, #a855f7); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">قسم روبلوكس</div>
        <div class="categories-grid">
            <div class="category-card" onclick="showPage('products')">
                <div class="category-image">
                    <div class="category-icon">💎</div>
                    <div>
                        <h3 class="category-title">ماب السرقات</h3>
                        <p class="category-subtitle">STEAL BRANDS</p>
                    </div>
                </div>
                <div class="category-content">
                    <button class="category-btn">► قسم ماط السرقات</button>
                </div>
            </div>
            <div class="category-card">
                <div class="category-image">
                    <div class="category-icon">👤</div>
                    <div>
                        <h3 class="category-title">حسابات روبلوكس</h3>
                        <p class="category-subtitle">ROBLOX ACCOUNTS</p>
                    </div>
                </div>
                <div class="category-content">
                    <button class="category-btn">► قسم حسابات روبلوكس</button>
                </div>
            </div>
            <div class="category-card">
                <div class="category-image">
                    <div class="category-icon">🔥</div>
                    <div>
                        <h3 class="category-title">ماب بلوكس فروت</h3>
                        <p class="category-subtitle">BLOX FRUITS</p>
                    </div>
                </div>
                <div class="category-content">
                    <button class="category-btn">► قسم ماب بلوكس فروت</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Products Page -->
    <div id="products" class="page">
        <div class="breadcrumb">
            <span onclick="showPage('home')">الرئيسية</span>
            <span>◄</span>
            <span>ماب السرقات</span>
        </div>
        <h2 style="text-align: center; font-size: 2.5em; margin: 40px 0; background: linear-gradient(135deg, #fff, #a855f7); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">أكثر من 15 منتج</h2>
        <div class="products-grid">
            <div class="product-card">
                <div class="product-icon">🔫🪄</div>
                <div class="product-info">
                    <div class="product-name">مسدس الليزر + البساط الطائر</div>
                    <div class="product-price">د.م 528.28</div>
                    <button class="add-btn" onclick="addToCart('مسدس الليزر + البساط الطائر', 528.28, '🔫🪄')">🔒 اضف للسلة</button>
                </div>
            </div>
            <div class="product-card">
                <div class="product-icon">🔨</div>
                <div class="product-info">
                    <div class="product-name">مطرقة الباند</div>
                    <div class="product-price">د.م 692</div>
                    <button class="add-btn" onclick="addToCart('مطرقة الباند', 692, '🔨')">🔒 اضف للسلة</button>
                </div>
            </div>
            <div class="product-card">
                <div class="product-icon">⚙️</div>
                <div class="product-info">
                    <div class="product-name">خواص الأدمن</div>
                    <div class="product-price">د.م 3437.32</div>
                    <button class="add-btn" onclick="addToCart('خواص الأدمن', 3437.32, '⚙️')">🔒 اضف للسلة</button>
                </div>
            </div>
            <div class="product-card">
                <div class="product-icon">👻🎃</div>
                <div class="product-info">
                    <div class="product-name">Spooky and Pumpky</div>
                    <div class="product-price">د.م 2518.01</div>
                    <button class="add-btn" onclick="addToCart('Spooky and Pumpky', 2518.01, '👻🎃')">🔒 اضف للسلة</button>
                </div>
            </div>
            <div class="product-card">
                <div class="product-icon">🎁</div>
                <div class="product-info">
                    <div class="product-name">Lucky Block - Los</div>
                    <div class="product-price">د.م 175.68</div>
                    <button class="add-btn" onclick="addToCart('Lucky Block - Los', 175.68, '🎁')">🔒 اضف للسلة</button>
                </div>
            </div>
            <div class="product-card">
                <div class="product-icon">🚲</div>
                <div class="product-info">
                    <div class="product-name">Chicletetrina Bicicletetrina</div>
                    <div class="product-price">د.م 427.54</div>
                    <button class="add-btn" onclick="addToCart('Chicletetrina Bicicletetrina', 427.54, '🚲')">🔒 اضف للسلة</button>
                </div>
            </div>
            <div class="product-card">
                <div class="product-icon">🐉</div>
                <div class="product-info">
                    <div class="product-name">Eviledon</div>
                    <div class="product-price">د.م 1258.69</div>
                    <button class="add-btn" onclick="addToCart('Eviledon', 1258.69, '🐉')">🔒 اضف للسلة</button>
                </div>
            </div>
            <div class="product-card">
                <div class="product-icon">🧟</div>
                <div class="product-info">
                    <div class="product-name">Zombie Tralala</div>
                    <div class="product-price">د.م 137.9</div>
                    <button class="add-btn" onclick="addToCart('Zombie Tralala', 137.9, '🧟')">🔒 اضف للسلة</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Page -->
    <div id="cart" class="page">
        <div class="breadcrumb">
            <span onclick="showPage('home')">الرئيسية</span>
            <span>◄</span>
            <span>السلة</span>
        </div>
        <div class="cart-container">
            <h1 class="cart-title">🛒 سلة التسوق</h1>
            <div id="cartContent"></div>
        </div>
    </div>

    <!-- Order Confirmation Page -->
    <div id="confirmation" class="page">
        <div class="breadcrumb">
            <span onclick="showPage('home')">الرئيسية</span>
            <span>◄</span>
            <span>تأكيد الطلب</span>
        </div>
        <div class="checkout-container">
            <div style="text-align: center; padding: 60px 20px;">
                <div style="font-size: 5em; margin-bottom: 20px;">✅</div>
                <h1 style="font-size: 2.5em; margin-bottom: 20px; color: #10b981;">تم استلام طلبك بنجاح!</h1>
                <div style="background: rgba(45, 27, 78, 0.6); border-radius: 20px; padding: 40px; margin: 40px 0; border: 2px solid rgba(168, 85, 247, 0.3);">
                    <p style="font-size: 1.5em; margin-bottom: 20px; color: #c4b5fd;">سيتم مراجعة طلبك</p>
                    <p style="font-size: 1.3em; margin-bottom: 30px; color: #fff;">يرجى فتح بريدك الإلكتروني (Gmail)</p>
                    <div style="font-size: 1.2em; color: #fbbf24; margin-bottom: 30px;">
                        📧 سيتم إرسال رسالة تأكيد وقت الاستلام على:<br>
                        <strong id="customerEmail" style="font-size: 1.3em; color: #a855f7;"></strong>
                    </div>
                    <div style="background: rgba(20, 10, 40, 0.6); padding: 20px; border-radius: 15px; margin: 20px 0;">
                        <p style="font-size: 1.1em; color: #c4b5fd;">رقم الطلب: #<span id="orderNumber"></span></p>
                        <p style="font-size: 1.1em; color: #c4b5fd; margin-top: 10px;">المبلغ الإجمالي: <span id="finalTotal" style="color: #10b981; font-weight: bold;"></span></p>
                    </div>
                    <button class="btn btn-primary" onclick="showPage('home')" style="margin-top: 30px; padding: 15px 40px; font-size: 1.2em;">العودة للرئيسية</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Page -->
    <div id="checkout" class="page">
        <div class="breadcrumb">
            <span onclick="showPage('home')">الرئيسية</span>
            <span>◄</span>
            <span onclick="showPage('cart')">السلة</span>
            <span>◄</span>
            <span>إتمام الطلب</span>
        </div>
        <div class="checkout-container">
            <div class="checkout-header">
                <h1 class="checkout-title">إتمام الطلب</h1>
            </div>

            <div class="order-summary">
                <h3>ملخص الطلب</h3>
                <div id="orderItems"></div>
                <div class="order-total">
                    <span>إجمالي الطلب</span>
                    <span id="orderTotal">د.م 0</span>
                </div>
            </div>

            <div class="email-section">
                <h3>📧 البريد الإلكتروني (Gmail)</h3>
                <input type="email" class="email-input" id="emailInput" placeholder="أدخل بريدك الإلكتروني (Gmail)" required>
            </div>

            <div class="payment-section">
                <h3>💳 الدفع - اختر طريقة الدفع</h3>
                <div class="payment-methods">
                    <label class="payment-method" onclick="selectPayment('paypal')">
                        <input type="radio" name="payment" value="paypal">
                        <div class="payment-icon">💙</div>
                        <div class="payment-name">PayPal</div>
                    </label>
                    <label class="payment-method" onclick="selectPayment('vodafone')">
                        <input type="radio" name="payment" value="vodafone">
                        <div class="payment-icon">📱</div>
                        <div class="payment-name">Vodafone Cash</div>
                    </label>
                </div>

                <div class="vodafone-info" id="vodafoneInfo">
                    <h4>📱 معلومات التحويل - Vodafone Cash</h4>
                    <div class="transfer-details">
                        <p style="font-size: 1.2em; margin-bottom: 10px;">يرجى التحويل على الرقم التالي:</p>
                        <div class="transfer-number">01016124181</div>
                        <p style="font-size: 1.2em; margin: 15px 0;">المبلغ المطلوب:</p>
                        <div class="transfer-amount" id="vodafoneAmount">د.م 0</div>
                        <p style="margin-top: 15px; color: #fbbf24;">⚠️ بعد إتمام التحويل، اضغط على "تأكيد الدفع" لإكمال طلبك</p>
                    </div>
                </div>

                <div class="terms-checkbox">
                    <input type="checkbox" id="termsCheck">
                    <label for="termsCheck">باستمرارك فأنت اقر بأنى قرأت شروط وأحكام متجر كايزن و أوافق عليها.</label>
                </div>

                <button class="confirm-payment-btn" id="confirmBtn" onclick="confirmPayment()" disabled>تأكيد الدفع</button>
            </div>
        </div>
    </div>

    <script>
        let cart = [];
        let selectedPaymentMethod = null;

        function showPage(page) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(page).classList.add('active');
            if (page === 'cart') {
                displayCart();
            } else if (page === 'checkout') {
                displayCheckout();
            }
        }

        function addToCart(name, price, icon) {
            const existingItem = cart.find(item => item.name === name);
            if (!existingItem) {
                cart.push({ name, price, icon });
                updateCartCount();
                alert('تم إضافة ' + name + ' إلى السلة! ✅');
            } else {
                alert('هذا المنتج موجود بالفعل في السلة! ⚠️');
            }
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartCount();
            displayCart();
        }

        function updateCartCount() {
            document.getElementById('cartCount').textContent = cart.length;
        }

        function displayCart() {
            const container = document.getElementById('cartContent');
            if (cart.length === 0) {
                container.innerHTML = `
                    <div class="cart-empty">
                        <div class="cart-empty-icon">🛒</div>
                        <p style="font-size: 1.5em; color: #c4b5fd;">السلة فارغة</p>
                        <button class="btn btn-primary" onclick="showPage('products')" style="margin-top: 20px;">تسوق الآن</button>
                    </div>
                `;
                return;
            }

            let total = 0;
            let html = '<div class="cart-items">';
            cart.forEach((item, index) => {
                total += item.price;
                html += `
                    <div class="cart-item">
                        <div class="cart-item-icon">${item.icon}</div>
                        <div class="cart-item-details">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-desc">ماط السرقات - Steal A Brainrot</div>
                        </div>
                        <div class="cart-item-price">د.م ${item.price}</div>
                        <button class="remove-btn" onclick="removeFromCart(${index})">🗑️ حذف</button>
                    </div>
                `;
            });
            html += '</div>';
            html += `
                <div class="cart-summary">
                    <div class="cart-total">
                        <span>المجموع الكلي:</span>
                        <span>د.م ${total.toFixed(2)}</span>
                    </div>
                    <button class="checkout-btn" onclick="showPage('checkout')">💳 إتمام الشراء</button>
                </div>
            `;
            container.innerHTML = html;
        }

        function displayCheckout() {
            let total = 0;
            let itemsHtml = '';
            
            cart.forEach(item => {
                total += item.price;
                itemsHtml += `
                    <div class="order-item">
                        <span>${item.icon} ${item.name}</span>
                        <span>د.م ${item.price}</span>
                    </div>
                `;
            });

            document.getElementById('orderItems').innerHTML = itemsHtml;
            document.getElementById('orderTotal').textContent = 'د.م ' + total.toFixed(2);
            document.getElementById('vodafoneAmount').textContent = 'د.م ' + total.toFixed(2);
        }

        function selectPayment(method) {
            selectedPaymentMethod = method;
            
            // Remove selected class from all methods
            document.querySelectorAll('.payment-method').forEach(m => {
                m.classList.remove('selected');
            });
            
            // Add selected class to clicked method
            event.currentTarget.classList.add('selected');
            
            // Show/hide Vodafone info
            if (method === 'vodafone') {
                document.getElementById('vodafoneInfo').classList.add('show');
            } else {
                document.getElementById('vodafoneInfo').classList.remove('show');
            }
            
            checkFormValidity();
        }

        function checkFormValidity() {
            const email = document.getElementById('emailInput').value;
            const terms = document.getElementById('termsCheck').checked;
            const btn = document.getElementById('confirmBtn');
            
            if (email && selectedPaymentMethod && terms) {
                btn.disabled = false;
            } else {
                btn.disabled = true;
            }
        }

        document.getElementById('emailInput').addEventListener('input', checkFormValidity);
        document.getElementById('termsCheck').addEventListener('change', checkFormValidity);

        function confirmPayment() {
            const email = document.getElementById('emailInput').value;
            
            if (!email) {
                alert('⚠️ يرجى إدخال البريد الإلكتروني');
                return;
            }
            
            if (!selectedPaymentMethod) {
                alert('⚠️ يرجى اختيار طريقة الدفع');
                return;
            }
            
            if (!document.getElementById('termsCheck').checked) {
                alert('⚠️ يرجى الموافقة على الشروط والأحكام');
                return;
            }

            let total = 0;
            let orderDetails = '';
            
            cart.forEach((item, index) => {
                total += item.price;
                orderDetails += `${index + 1}. ${item.name} - ${item.icon} - د.م ${item.price}%0D%0A`;
            });

            // Generate order number
            const orderNumber = 'ORD' + Date.now();
            
            // Prepare email content
            const paymentMethodName = selectedPaymentMethod === 'vodafone' ? 'Vodafone Cash - 01016124181' : 'PayPal';
            
            const subject = `طلب جديد - ${orderNumber}`;
            const body = `طلب جديد من Fayez Store%0D%0A%0D%0A` +
                        `رقم الطلب: ${orderNumber}%0D%0A` +
                        `البريد الإلكتروني للعميل: ${email}%0D%0A%0D%0A` +
                        `تفاصيل الطلب:%0D%0A` +
                        `${orderDetails}%0D%0A` +
                        `المجموع الإجمالي: د.م ${total.toFixed(2)}%0D%0A%0D%0A` +
                        `طريقة الدفع: ${paymentMethodName}%0D%0A%0D%0A` +
                        `-----------------------------%0D%0A` +
                        `تاريخ الطلب: ${new Date().toLocaleString('ar-EG')}`;

            // Open Gmail compose with pre-filled data
            window.open(`https://mail.google.com/mail/?view=cm&fs=1&to=fayez4083@gmail.com&su=${subject}&body=${body}`, '_blank');

            // Show confirmation page
            document.getElementById('customerEmail').textContent = email;
            document.getElementById('orderNumber').textContent = orderNumber;
            document.getElementById('finalTotal').textContent = 'د.م ' + total.toFixed(2);
            
            // Clear cart
            cart = [];
            updateCartCount();
            
            // Show confirmation page
            showPage('confirmation');
        }
    </script>
</body>
</html>
